---
// ETF UNSA - Hero Carousel
// Author: Ernedin Zajko <ezajko@root.ba>
// License: GPL-2.0-or-later

import Carousel from './Carousel.astro';
import CarouselItem from './CarouselItem.astro';
import Hero from './Hero.astro';

const base = import.meta.env.BASE_URL;
---

<Carousel id="heroCarousel" height="medium" showControls={false}>
  <Fragment slot="indicators">
    <button
      type="button"
      data-bs-target="#heroCarousel"
      data-bs-slide-to="0"
      class="active"
      aria-current="true"
      aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"
    ></button>
    <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"
    ></button>
  </Fragment>

  <!-- Slide 1: Standard with Image -->
  <CarouselItem active={true}>
    <Hero height="auto" class="h-100" backgroundImage={base + '/images/news_1.png'} overlay={true}>
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <h1 class="ez-hero__title text-white">Dobrodošli na ETF</h1>
          <p class="ez-hero__subtitle text-white-50">
            Vodeća visokoškolska ustanova u oblasti elektrotehnike i računarstva u Bosni i
            Hercegovini.
          </p>
          <div class="ez-hero__cta">
            <a
              href={base + '/studiji'}
              class="btn btn-light btn-lg rounded-0 text-uppercase fw-bold px-4 py-3"
            >
              <i class="bi bi-book me-2"></i> Studijski programi
            </a>
          </div>
        </div>
      </div>
    </Hero>
  </CarouselItem>

  <!-- Slide 2: Dark Theme (No Image) -->
  <CarouselItem>
    <Hero height="auto" class="h-100 bg-dark text-white">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <span class="badge bg-warning text-dark mb-3 rounded-0 px-3 py-2">NOVO</span>
          <h1 class="ez-hero__title">Upis 2025/2026</h1>
          <p class="ez-hero__subtitle">
            Konkurs za upis studenata u prvu godinu prvog ciklusa studija je otvoren. Pridružite se
            generaciji budućnosti.
          </p>
          <div class="ez-hero__cta">
            <a
              href={base + '/upis'}
              class="btn btn-primary btn-lg rounded-0 text-uppercase fw-bold px-4 py-3"
            >
              <i class="bi bi-pencil-square me-2"></i> Apliciraj odmah
            </a>
            <a
              href={base + '/informacije'}
              class="btn btn-outline-light btn-lg rounded-0 text-uppercase fw-bold px-4 py-3 ms-3"
            >
              Saznaj više
            </a>
          </div>
        </div>
      </div>
    </Hero>
  </CarouselItem>

  <!-- Slide 3: Light/Info Theme -->
  <CarouselItem>
    <Hero height="auto" class="h-100">
      <div class="row align-items-center">
        <div class="col-lg-6 text-start">
          <h1 class="ez-hero__title text-primary mb-3">Nauka i Istraživanje</h1>
          <div class="ez-hero__cta m-0">
            <a
              href={base + '/istrazivanje'}
              class="btn btn-outline-primary btn-lg rounded-0 text-uppercase fw-bold px-4 py-3"
            >
              Projekti i saradnja <i class="bi bi-arrow-right ms-2"></i>
            </a>
          </div>
        </div>
        <div class="col-lg-6 d-none d-lg-block">
          <i class="bi bi-cpu text-primary opacity-25" style="font-size: 10rem;"></i>
        </div>
      </div>
    </Hero>
  </CarouselItem>
</Carousel>

<style is:global>
  /* Custom styles for Hero Carousel indicators */
  #heroCarousel .carousel-indicators {
    bottom: 2rem; /* Move up slightly */
    margin-bottom: 0;
    z-index: 20; /* Ensure it's above hero content */
  }

  #heroCarousel .carousel-indicators button {
    width: 12px;
    height: 12px;
    /* border-radius: 50%; RE MOVED for squares */
    margin: 0 6px;
    background-color: #fff; /* Always start with white */
    opacity: 0.6; /* Semi-transparent inactive */
    border: 1px solid rgba(0, 0, 0, 0.3); /* Subtle dark border for visibility on white */
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.5); /* Shadow for visibility on light backgrounds */
    transition: all 0.3s ease;
  }

  #heroCarousel .carousel-indicators button.active {
    opacity: 1;
    background-color: #fff; /* Keep white for active for now, or match brand */
    border-color: rgba(0, 0, 0, 0.5);
    transform: scale(1.2);
  }
</style>
