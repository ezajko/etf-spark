// ETF UNSA - Bootstrap Overrides
// Author: Ernedin Zajko <ezajko@root.ba>
// License: GPL-2.0-or-later

// Override Bootstrap CSS variables to match our design system
:root {
    // Default Theme Color (Blue)
    --ez-theme-color: #{$ez-theme-blue};
    --ez-theme-color-rgb: #{red($ez-theme-blue)},
    #{green($ez-theme-blue)},
    #{blue($ez-theme-blue)};

    // Primary Color mapped to Theme Color
    --bs-primary: var(--ez-theme-color);
    --bs-primary-rgb: var(--ez-theme-color-rgb);

    // Disable Rounded Corners
    --bs-border-radius: 0;
    --bs-border-radius-sm: 0;
    --bs-border-radius-lg: 0;
    --bs-border-radius-xl: 0;
    --bs-border-radius-2xl: 0;
    --bs-border-radius-pill: 0;

    // Secondary Color
    --bs-secondary: #{$ez-secondary-color};
    --bs-secondary-rgb: #{red($ez-secondary-color)},
    #{green($ez-secondary-color)},
    #{blue($ez-secondary-color)};

    // Success Color
    --bs-success: #{$ez-success-color};
    --bs-success-rgb: #{red($ez-success-color)},
    #{green($ez-success-color)},
    #{blue($ez-success-color)};

    // Danger Color
    --bs-danger: #{$ez-danger-color};
    --bs-danger-rgb: #{red($ez-danger-color)},
    #{green($ez-danger-color)},
    #{blue($ez-danger-color)};

    // Warning Color
    --bs-warning: #{$ez-warning-color};
    --bs-warning-rgb: #{red($ez-warning-color)},
    #{green($ez-warning-color)},
    #{blue($ez-warning-color)};

    // Info Color
    --bs-info: #{$ez-info-color};
    --bs-info-rgb: #{red($ez-info-color)},
    #{green($ez-info-color)},
    #{blue($ez-info-color)};

    // Body Colors
    --bs-body-color: #{$ez-text-color};
    --bs-body-bg: #{$ez-bg-color};

    // Font Family
    --bs-font-sans-serif: #{$ez-font-family-sans};
    --bs-font-serif: #{$ez-font-family-serif};
    --bs-font-monospace: #{$ez-font-family-mono};
    --bs-body-font-family: #{$ez-font-family-base};
}

// Dynamic Theme Overrides
[data-ez-theme="teal"] {
    --ez-theme-color: #{$ez-theme-teal};
    --ez-theme-color-rgb: #{red($ez-theme-teal)},
    #{green($ez-theme-teal)},
    #{blue($ez-theme-teal)};
    --bs-secondary: #{$ez-theme-teal-secondary};
    --bs-secondary-rgb: #{red($ez-theme-teal-secondary)},
    #{green($ez-theme-teal-secondary)},
    #{blue($ez-theme-teal-secondary)};
}

[data-ez-theme="green"] {
    --ez-theme-color: #{$ez-theme-green};
    --ez-theme-color-rgb: #{red($ez-theme-green)},
    #{green($ez-theme-green)},
    #{blue($ez-theme-green)};
    --bs-secondary: #{$ez-theme-green-secondary};
    --bs-secondary-rgb: #{red($ez-theme-green-secondary)},
    #{green($ez-theme-green-secondary)},
    #{blue($ez-theme-green-secondary)};
}

[data-ez-theme="purple"] {
    --ez-theme-color: #{$ez-theme-purple};
    --ez-theme-color-rgb: #{red($ez-theme-purple)},
    #{green($ez-theme-purple)},
    #{blue($ez-theme-purple)};
    --bs-secondary: #{$ez-theme-purple-secondary};
    --bs-secondary-rgb: #{red($ez-theme-purple-secondary)},
    #{green($ez-theme-purple-secondary)},
    #{blue($ez-theme-purple-secondary)};
}

[data-ez-theme="orange"] {
    --ez-theme-color: #{$ez-theme-orange};
    --ez-theme-color-rgb: #{red($ez-theme-orange)},
    #{green($ez-theme-orange)},
    #{blue($ez-theme-orange)};
    --bs-secondary: #{$ez-theme-orange-secondary};
    --bs-secondary-rgb: #{red($ez-theme-orange-secondary)},
    #{green($ez-theme-orange-secondary)},
    #{blue($ez-theme-orange-secondary)};
}

[data-ez-theme="red"] {
    --ez-theme-color: #{$ez-theme-red};
    --ez-theme-color-rgb: #{red($ez-theme-red)},
    #{green($ez-theme-red)},
    #{blue($ez-theme-red)};
    --bs-secondary: #{$ez-theme-red-secondary};
    --bs-secondary-rgb: #{red($ez-theme-red-secondary)},
    #{green($ez-theme-red-secondary)},
    #{blue($ez-theme-red-secondary)};
}

[data-ez-theme="blue"] {
    --ez-theme-color: #{$ez-theme-blue};
    --ez-theme-color-rgb: #{red($ez-theme-blue)},
    #{green($ez-theme-blue)},
    #{blue($ez-theme-blue)};
    --bs-secondary: #{$ez-theme-blue-secondary};
    --bs-secondary-rgb: #{red($ez-theme-blue-secondary)},
    #{green($ez-theme-blue-secondary)},
    #{blue($ez-theme-blue-secondary)};
}

// Dark Mode Overrides
[data-bs-theme="dark"] {
    --bs-body-color: #{$ez-text-dark};
    --bs-body-bg: #{$ez-bg-dark};
    --bs-border-color: #{$ez-border-dark};
    --bs-border-color-translucent: rgba(255, 255, 255, 0.15);

    // Override Primary interactions for better contrast in dark mode if needed
    // For now, keeping brand blue as it's accessible on dark bg

    // Utilities overrides
    .text-muted {
        color: #{$ez-text-muted-dark} !important;
    }

    .bg-light {
        background-color: #{$ez-bg-dark-secondary} !important;
        color: #{$ez-text-dark} !important;
    }

    .btn-close {
        filter: invert(1) grayscale(100%) brightness(200%);
    }

    // Accessible Link Color for Dark Mode (Lighter Blue)
    --bs-link-color: #64B5F6;
    --bs-link-hover-color: #90CAF9; // Even lighter on hover

    // Card Footer Background in Dark Mode
    --bs-tertiary-bg: #{$ez-bg-dark-secondary};
}

// Override Button Colors (because Bootstrap uses hardcoded hex in compiled CSS)
.btn-primary {
    --bs-btn-bg: var(--ez-theme-color);
    --bs-btn-border-color: var(--ez-theme-color);
    --bs-btn-hover-bg: var(--ez-theme-color); // Using same color for now, relying on filter or opacity if needed, or define dark var
    --bs-btn-hover-border-color: var(--ez-theme-color);
    --bs-btn-active-bg: var(--ez-theme-color);
    --bs-btn-active-border-color: var(--ez-theme-color);
    --bs-btn-disabled-bg: var(--ez-theme-color);
    --bs-btn-disabled-border-color: var(--ez-theme-color);

    // To darken on hover without JS, we might need --ez-theme-color-dark
    &:hover {
        filter: brightness(90%);
    }
}

.btn-secondary {
    --bs-btn-bg: var(--bs-secondary);
    --bs-btn-border-color: var(--bs-secondary);
    --bs-btn-hover-bg: var(--bs-secondary);
    --bs-btn-hover-border-color: var(--bs-secondary);
    --bs-btn-active-bg: var(--bs-secondary);
    --bs-btn-active-border-color: var(--bs-secondary);
    --bs-btn-disabled-bg: var(--bs-secondary);
    --bs-btn-disabled-border-color: var(--bs-secondary);

    &:hover {
        filter: brightness(90%);
    }
}

.btn-outline-primary {
    --bs-btn-color: var(--ez-theme-color);
    --bs-btn-border-color: var(--ez-theme-color);
    --bs-btn-hover-bg: var(--ez-theme-color);
    --bs-btn-hover-border-color: var(--ez-theme-color);
    --bs-btn-active-bg: var(--ez-theme-color);
    --bs-btn-active-border-color: var(--ez-theme-color);
}

// Override Text Colors
.text-primary {
    color: var(--ez-theme-color) !important;
}

.text-secondary {
    color: #{$ez-secondary-color} !important;
}

// Override Background Colors
.bg-primary {
    background-color: var(--ez-theme-color) !important;
}

.bg-secondary {
    background-color: #{$ez-secondary-color} !important;
}