// ETF UNSA - Timeline Component
// Author: Ernedin Zajko <ezajko@root.ba>
// License: GPL-2.0-or-later

.timeline {
    position: relative;
    padding: $site-theme-spacing-lg 0;

    // Vertical Line
    &::before {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        left: 1.5rem; // Adjust based on marker size
        width: 2px;
        background-color: var(--bs-border-color);
    }

    .timeline-item {
        position: relative;
        padding-left: 4rem; // Space for marker
        margin-bottom: $site-theme-spacing-xl;

        &:last-child {
            margin-bottom: 0;
        }

        // Marker (Square)
        &::after {
            content: '';
            position: absolute;
            left: 1.125rem; // Center on line (1.5rem line pos - half width)
            top: 0.25rem;
            width: 0.75rem + 2px; // slightly wider than line
            height: 0.75rem + 2px;
            background-color: var(--bs-body-bg);
            border: 2px solid var(--site-theme-color);
            z-index: 1;
        }

        // Content
        .timeline-date {
            font-size: 0.85rem;
            color: var(--bs-primary);
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 0.25rem;
            display: block;
        }

        .timeline-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .timeline-body {
            font-size: 0.95rem;
            color: var(--bs-secondary-color);
        }
    }
}

// Dark Mode Support
[data-bs-theme="dark"] .timeline {
    &::before {
        background-color: var(--site-theme-border-dark);
    }

    .timeline-item {
        &::after {
            background-color: var(--site-theme-bg-dark); // Match bg to hide line behind
            border-color: var(--site-theme-color);
        }

        .timeline-body {
            color: var(--site-theme-text-muted);
        }
    }
}

// High Contrast Support
[data-site-theme="high-contrast"] .timeline {
    &::before {
        width: 4px;
        background-color: #000;
    }

    .timeline-item {
        &::after {
            border: 4px solid #000;
            background-color: #fff;
            width: 1.25rem; // Larger marker
            height: 1.25rem;
            left: 0.875rem; // Adjust for larger size
        }

        .timeline-date {
            color: #000;
            text-decoration: underline;
        }

        .timeline-title {
            color: #000;
            font-weight: 800;
        }

        .timeline-body {
            color: #000;
        }
    }
}

// Dark + HC
[data-site-theme="high-contrast"][data-bs-theme="dark"] .timeline {
    &::before {
        background-color: #ffd700;
    }

    .timeline-item {
        &::after {
            border-color: #ffd700;
            background-color: #000;
        }

        .timeline-date {
            color: #ffd700;
        }

        .timeline-title {
            color: #ffd700;
        }

        .timeline-body {
            color: #ffd700;
        }
    }
}