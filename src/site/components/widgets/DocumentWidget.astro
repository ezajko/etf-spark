---
// ETF UNSA - Document Widget Component
// Author: Ernedin Zajko <ezajko@root.ba>
// License: GPL-2.0-or-later

import IconListItem from '../lists/IconListItem.astro';
import SidebarWidget from '../layout/SidebarWidget.astro';

interface Document {
  title: string;
  size: string;
  format: string; // e.g. "PDF", "DOCX"
  link: string;
}

interface Props {
  title: string;
  icon?: string;
  documents: Document[];
  class?: string;
}

const { title, icon, documents, class: className } = Astro.props;
---

<SidebarWidget title={title} icon={icon} class={className}>
  <div class="list-group list-group-flush">
    {
      documents.map((doc) => (
        <IconListItem
          icon={`bi-file-earmark-${doc.format.toLowerCase() === 'pdf' ? 'pdf' : 'text'} ${doc.format.toLowerCase() === 'pdf' ? 'text-danger' : 'text-primary'}`}
          label={doc.title}
          href={doc.link}
        >
          <small class="text-muted d-block">
            {doc.format}, {doc.size}
          </small>
        </IconListItem>
      ))
    }
  </div>
</SidebarWidget>
